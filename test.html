<script>
/*
const handler = {
  get: function(obj, prop) {
    console.log('A value has been accessed');
    return obj[prop];
  },
  set: function(obj, prop, value) {
  	obj.prop = value;
  	test();
    //console.log(`${prop} is being set to ${value}`);
  }
}

var initialObj = {}

var proxiedObj = new Proxy(initialObj, handler);

proxiedObj.age = 24

function test() {
	console.log(proxiedObj.age);
}
*/

const o = {};
const p = new Proxy(o, {
  set: function(obj, prop, value) {
    obj[prop] = value;
    test();
    return true;
  },
});

// These operations are forwarded to the target object o:

p.b = 1;



function test() {
	console.log(p.b);
	if(p.b == 1) {
		test2();
	}
}

function test2() {
	p.b=2;
}
</script>